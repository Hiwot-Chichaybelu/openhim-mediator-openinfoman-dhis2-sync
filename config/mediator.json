{
  "urn": "urn:mediator:openinfoman-dhis2-sync",
  "version": "1.0.1",
  "name": "OpenInfoMan-DHIS2 Sync Mediator",
  "description": "OpenInfoMan-DHIS2 Sync Mediator",
  "endpoints": [
    {
      "name": "OpenInfoMan-DHIS2 Sync Trigger",
      "host": "localhost",
      "port": "5012",
      "path": "/trigger",
      "type": "http"
    }
  ],
  "defaultChannelConfig": [
    {
      "name": "OpenInfoMan-DHIS2 Sync",
      "pollingSchedule" : "0 0 * * *",
      "urlPattern": "^/_infomansync$",
      "type": "polling",
      "allow": ["internal"],
      "routes": [
        {
          "name": "OpenInfoMan-DHIS2 Sync Trigger",
          "host": "localhost",
          "port": "5012",
          "path": "/trigger",
          "type": "http",
          "primary": "true"
        }
      ]
    }
  ],
  "configDefs": [
    {
      "param": "ilr-url",
      "type": "string",
      "displayName": "ILR URL"
    },
    {
      "param": "ilr-doc",
      "type": "string",
      "displayName": "ILR Document",
      "description": "Name of CSD document to publish to"
    },
    {
      "param": "ilr-user",
      "type": "string",
      "displayName": "ILR User"
    },
    {
      "param": "ilr-pass",
      "type": "string",
      "displayName": "ILR Password"
    },
    {
      "param": "dhis2-url",
      "type": "string",
      "displayName": "DHIS2 URL"
    },
    {
      "param": "dhis2-user",
      "type": "string",
      "displayName": "DHIS2 Username"
    },
    {
      "param": "dhis2-pass",
      "type": "string",
      "displayName": "DHIS2 Password"
    },
    {
      "param": "dousers",
      "type": "bool",
      "displayName": "DHIS2 Users as Health Workers",
      "description": "Process DHIS2 Users are Health workers"
    },
    {
      "param": "doservices",
      "type": "bool",
      "displayName": "DHIS2 Data Elements as Services",
      "description": "Process DHIS2 Data Elements as services"
    },
    {
      "param": "ignorecerts",
      "type": "bool",
      "displayName": "Ignore Certs",
      "description": "Ignore certificate checks"
    },
    {
      "param": "levels",
      "type": "string",
      "displayName": "Levels",
      "description": "Levels of a facility. Example: LEVELS=(3 4 5)"
    },
    {
      "param": "groupcodes",
      "type": "string",
      "displayName": "Group Codes",
      "description": "Groups codes. Example: GROUPS=(COMMUNITY FACILITY COUNTRY)"
    },
    {
      "param": "reset",
      "type": "bool",
      "displayName": "Reset Last Exported Time",
      "description": "Reset the last exported time"
    },
    {
      "param": "publishfull",
      "type": "bool",
      "displayName": "Publish Full DHIS2 Metadata",
      "description": "Publish the full DHIS2 metadata (ignore the last exported time)"
    },
    {
      "param": "debug",
      "type": "bool",
      "displayName": "Debug mode"
    },
    {
      "param": "empty",
      "type": "bool",
      "displayName": "Empty CSD Document",
      "description": "Empty the CSD document before publishing"
    }
  ],
  "config": {
    "ilr-url": "http://localhost:8984/CSD",
    "ilr-doc": "test",
    "dhis2-url": "https://localhost/dhis2",
    "dhis2-user": "admin",
    "dhis2-pass": "district",
    "dousers": true,
    "doservices": true,
    "ignorecerts": true,
    "levels": "(4 5 6)",
    "groupcodes": "( )",
    "reset": false,
    "publishfull": false,
    "debug": false,
    "empty": false
  }
}
